[colors]
; Transparent and not transparent background
background     = #B3282A36
background-alt = #282A36

; Workspaces setups
focused-ws   = #44475A
active-ws    = #282A36
urgent-ws    = #FF5555
underline-ws = #BBC5FF

; Font color
foreground     = #F8F8F2
foreground-alt = #BFBFBF

; Possible underline colors
red     = #FF5555
green   = #50FA7B
yellow  = #F1FA8C
blue    = #BD93D9
magenta = #FF79C6
cyan    = #8BE9FD

; TODO : REMOVE THIS COLORS
primary = #F1FA8C
secondary = #8BE9FD
alert = #FF6E67

; Solution for floating bar based on
; https://bit.ly/2XyRCey
[sizes]
bar-width      = 100%
bar-height     = 30
bar-offset-x   = 20
bar-offset-y   = 10
bar-bottom-gap = 0

;;;;;;;;;;; MY MAIN BAR FOR I3 ;;;;;;;;;;;;
[bar/jscbar]
; Position Setup
width        = ${sizes.bar-width}
height       = ${sizes.bar-height}
radius       = 0
fixed-center = true

; Color Setup
background = ${colors.background}
foreground = ${colors.foreground}

; Height for line below numbers
line-size = 3

; Spacing around the bar
;; MODIFY THE SIZES MODULE FOR A BETTER BEHAVIOR
border-color       = #00000000
border-right-size  = ${sizes.bar-offset-x}
border-left-size   = ${sizes.bar-offset-x}
border-top-size    = ${sizes.bar-offset-y}
border-bottom-size = ${sizes.bar-bottom-gap}

; Distance of first and last module to bar
padding-left  = 0
padding-right = 0

; Margin between modules
module-margin-left  = 2
module-margin-right = 2

; Fonts
font-0 = DejaVu Sans:size=10;1
font-1 = unifont:fontformat=truetype:size=8:antialias=false;0
font-2 = siji:pixelsize=10;1
font-3 = FreeMono:pixelsize=11;1

; Position of each module
modules-left   = i3 xwindow
modules-center = date pulseaudio
modules-right  = spotify memory cpu light battery

; Position of the tray elements
tray-position = right
tray-padding  = 2

cursor-click  = pointer
cursor-scroll = ns-resize

;;;;;;;;;;; MODULES ;;;;;;;;;;;;
; Title of focused window
[module/xwindow]
type = internal/xwindow
label = %title:0:30:...%

; Workspaces names and focus
[module/i3]
type   = internal/i3
format = <label-state> <label-mode>

; Sort workspaces by index
index-sort = true

; Scroll through workspaces settings
enable-scroll   = false
wrapping-scroll = false

; Write only the name of the workspace
strip-wsnumbers = true

label-mode-padding    = 2
label-mode-foreground = #000
label-mode-background = ${colors.primary}

; Settings for focused workspaces
label-focused            = %name%
label-focused-background = ${colors.focused-ws}
label-focused-underline  = ${colors.underline-ws}
label-focused-padding    = 2

; Settings for unfocused workspaces
label-unfocused            = %name%
label-unfocused-padding    = 2
label-unfocused-foreground = ${colors.foreground-alt}

; Active workspace in different monitor
label-visible            = %name%
label-visible-background = ${self.label-focused-background}
label-visible-underline  = ${self.label-focused-underline}
label-visible-padding    = ${self.label-focused-padding}

; Urgent workspace
label-urgent            = %name%
label-urgent-background = ${colors.urgent-ws}
label-urgent-padding    = 2


; Spotify custom module based on
; https://github.com/Jvanrhijn/polybar-spotify
[module/spotify]
type = custom/script

; Settings
interval         = 1
exec             = python /home/juanscr/.config/polybar/spotify_status.py -f '{song}' -t 20
format-underline = ${colors.green}


; Custom module to monitor brightness
[module/light]
type = custom/script

; Settings
interval                 = 1
exec                     = light -G | awk  '{printf "%.0f\n", $1}'
format-underline         = ${colors.blue}
format-prefix            = "bri: "
format-prefix-font       = 4
format-prefix-foreground = ${colors.foreground-alt}

[module/date]
type = internal/date
; Tick rate to Update date
interval = 5

; Date clickable format
time             = %H:%M
time-alt         = "%m/%d/%Y"
format-underline = ${colors.blue}
label            = %time%


; Cpu usage
[module/cpu]
type = internal/cpu
; Tick to update
interval = 2

; Prefix and printing
format-prefix            = "cpu: "
format-prefix-font       = 4
format-prefix-foreground = ${colors.foreground-alt}
format-underline         = ${colors.red}
label                    = %percentage:2%%


; Ram memory usage
[module/memory]
type = internal/memory
; Tick to update
interval = 2

; Prefix and printing
format-prefix            = "mem: "
format-prefix-font       = 4
format-prefix-foreground = ${colors.foreground-alt}
format-underline         = ${colors.cyan}
label                    = %percentage_used%%


; Volume
[module/pulseaudio]
type = internal/pulseaudio

; Formats for muted and not muted
format-volume           = <label-volume> <bar-volume>
label-volume            = "vol: "
label-volume-foreground = ${colors.green}
format-muted            = <label-muted> <bar-volume>
label-muted             = ${self.label-volume}
label-muted-foreground  = ${colors.urgent-ws}

; Bar settings
bar-volume-width            = 15
bar-volume-foreground-0     = ${colors.yellow}
bar-volume-foreground-1     = ${colors.yellow}
bar-volume-foreground-2     = ${colors.green}
bar-volume-foreground-3     = ${colors.green}
bar-volume-foreground-4     = ${colors.green}
bar-volume-foreground-5     = ${colors.red}
bar-volume-foreground-6     = ${colors.red}
bar-volume-gradient         = false
bar-volume-indicator        = |
bar-volume-indicator-font   = 2
bar-volume-fill             = ─
bar-volume-fill-font        = 2
bar-volume-empty            = ─
bar-volume-empty-font       = 2
bar-volume-empty-foreground = ${colors.foreground}


; Battery module
[module/battery]
type = internal/battery
battery = BAT1
adapter = ACAD
full-at = 98

; Full label
label-full              = %percentage%%
format-full-underline   = ${colors.yellow}
format-full-prefix      = "bat: "
format-full-prefix-font = 4

; Charging
label-charging              = ${self.label-full}
format-charging-underline   = ${self.format-full-underline}
format-charging-prefix      = ${self.format-full-prefix}
format-charging-prefix-font = ${self.format-full-prefix-font}

; Discharging
label-discharging              = ${self.label-full}
format-discharging-underline   = ${colors.urgent-ws}
format-discharging-prefix      = ${self.format-full-prefix}
format-discharging-prefix-font = ${self.format-full-prefix-font}


;;;;;;; DEFUALT MODULES ;;;;;;;
[module/xkeyboard]
type = internal/xkeyboard
blacklist-0 = num lock

; format-prefix = ""
; format-prefix-foreground = ${colors.foreground-alt}
; format-prefix-underline = ${colors.secondary}

;label-layout = %layout%
; label-layout-underline = ${colors.secondary}

label-indicator-padding = 2
label-indicator-margin = 1
label-indicator-background = ${colors.secondary}
label-indicator-underline = ${colors.secondary}


[module/temperature]
type = internal/temperature
thermal-zone = 0
warn-temperature = 60

format = <ramp> <label>
format-underline = #f50a4d
format-warn = <ramp> <label-warn>
format-warn-underline = ${self.format-underline}

label = %temperature-c%
label-warn = %temperature-c%
label-warn-foreground = ${colors.secondary}

ramp-0 = 
ramp-1 = 
ramp-2 = 
ramp-foreground = ${colors.foreground-alt}

[module/powermenu]
type = custom/menu

expand-right = true

format-spacing = 1

label-open = power
label-open-foreground = ${colors.secondary}
label-close =  cancel
label-close-foreground = ${colors.secondary}
label-separator = |
label-separator-foreground = ${colors.foreground-alt}

menu-0-0 = reboot
menu-0-0-exec = menu-open-1
menu-0-1 = power off
menu-0-1-exec = menu-open-2

menu-1-0 = cancel
menu-1-0-exec = menu-open-0
menu-1-1 = reboot
menu-1-1-exec = sudo reboot

menu-2-0 = power off
menu-2-0-exec = sudo poweroff
menu-2-1 = cancel
menu-2-1-exec = menu-open-0

[settings]
screenchange-reload = true
;compositing-background = xor
;compositing-background = screen
;compositing-foreground = source
;compositing-border = over
;pseudo-transparency = false

[global/wm]
margin-top = 5
margin-bottom = 5

; vim:ft=dosini
