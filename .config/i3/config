########################## i3wm config, tested with i3 4.14.1

######## Mod key ########
set $mod Mod4

######## Font ########
font pango:UbuntuMono-regular 10

######## Set mod key ########
floating_modifier $mod

######## I3 default stuff ########
bindsym $mod+q kill

######## PC Startup ########
bindsym $mod+Shift+c reload

bindsym $mod+Shift+r restart6

# Install lock screen
bindsym $mod+shift+x exec betterlockscreen -l blur

bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

######## Search for app ########
bindsym $mod+d exec dmenu_run

######## Amixer controls ########
# Tested with amixer 1.1.3
bindsym XF86AudioRaiseVolume exec amixer -D pulse sset Master 5%+
bindsym XF86AudioLowerVolume exec amixer -D pulse sset Master 5%-
bindsym XF86AudioMute exec amixer -D pulse set Master 1+ toggle

######## Brightness Control ########
# Tested with xbacklight 1.2.1
bindsym XF86MonBrightnessUp exec Up_bri.sh
bindsym XF86MonBrightnessDown exec Down_bri.sh

######## Screenshots #########
# Tested with scroto 0.8
bindsym --release Print exec scrot 'screenshot_%Y%m%d_%H%M%S.png' -e 'mkdir -p ~/screenshots && mv $f ~/screenshots && xclip -selection clipboard -t image/png -i ~/screenshots/`ls -1 -t ~/screenshots | head -1`' # All screens

bindsym --release $mod+Print exec scrot -s 'screenshot_%Y%m%d_%H%M%S.png' -e 'mkdir -p ~/screenshots && mv $f ~/screenshots && xclip -selection clipboard -t image/png -i ~/screenshots/`ls -1 -t ~/screenshots | head -1`' # Area selection

######## Movement cointainers ########
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

######## Orientation ########
bindsym $mod+h split h

bindsym $mod+v split v

bindsym $mod+f fullscreen toggle

######## Layout stuff ########
# bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

bindsym $mod+Shift+space floating toggle

bindsym $mod+space focus mode_toggle

bindsym $mod+a focus parent

######### Resize #########
mode "resize" {
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

######## Names of Workspaces ########
set $w1 1
set $w2 2
set $w3 3
set $w4 4
set $w5 5
set $w6 6
set $w7 7
set $w8 8
set $w9 9
set $w10 10

bindsym $mod+1 workspace number $w1
bindsym $mod+2 workspace number $w2
bindsym $mod+3 workspace number $w3
bindsym $mod+4 workspace number $w4
bindsym $mod+5 workspace number $w5
bindsym $mod+6 workspace number $w6
bindsym $mod+7 workspace number $w7
bindsym $mod+8 workspace number $w8
bindsym $mod+9 workspace number $w9
bindsym $mod+0 workspace number $w10

bindsym $mod+Shift+1 move container to workspace $w1
bindsym $mod+Shift+2 move container to workspace $w2
bindsym $mod+Shift+3 move container to workspace $w3
bindsym $mod+Shift+4 move container to workspace $w4
bindsym $mod+Shift+5 move container to workspace $w5
bindsym $mod+Shift+6 move container to workspace $w6
bindsym $mod+Shift+7 move container to workspace $w7
bindsym $mod+Shift+8 move container to workspace $w8
bindsym $mod+Shift+9 move container to workspace $w9
bindsym $mod+Shift+0 move container to workspace $w10

######### Apps for Workspaces #########
# Browser
assign [class="Google-chrome"] $w1

# Terminal and text editors
assign [class="Gedit"]          $w2
assign [class="Emacs"]          $w2
assign [class="Gnome-terminal"] $w2

# Viewers and media editors
assign [class="Evince"]                  $w3
assign [class="okular"]                  $w3
assign [class="Inkscape"]                $w3
assign [class="(?i)libreoffice-writer$"] $w3
assign [class="(?i)libreoffice-calc"]    $w3
assign [class="(?i)soffice"]             $w3
assign [class="(?i)libreoffice.*"]       $w3
assign [class="Ntcardvt"]                $w3
assign [class="Audacity"]                $w3

# IDEs
assign [class="jetbrains-pycharm-ce"] $w4
assign [class="java-lang-Thread"]     $w4
assign [class="Java"]                 $w4
assign [class="Eclipse"]              $w4

# Media and social
assign [class="discord"]                   $w5
assign [class="vlc"]                       $w5
assign [class="mpv"]                       $w5
assign [class="Microsoft Teams - Preview"] $w5

# Installers of media
assign [class="Popcorn-Time"] $w6
assign [class="Stremio"]      $w6

# Configuration apps
assign [class="Pavucontrol"] $w7
assign [class="Arandr"]      $w7

# Background apps
for_window [class="Spotify"] move to workspace $w10

######## Keybinds for Apps ########
bindsym $mod+i exec google-chrome
bindsym $mod+Return exec i3-sensible-terminal
bindsym $mod+s exec spotify
bindsym $mod+m exec $(cat /home/juanscr/.bin/movies | dmenu)
bindsym $mod+p exec /opt/pycharm/bin/pycharm.sh

######## Applications Startup ########
exec google-chrome
exec i3-sensible-terminal

######## Wifi applet ########
exec_always nm-applet

######### Cosmethic #########
######## BG #########
exec --no-startup-id /home/juanscr/.bin/bg.sh

######## Bar #########
# Tested with statusline 0.1.13 and i3status 2.11
hide_edge_borders both
exec_always compton

# Colors
set $bg-color 	         #2f343f
set $inactive-bg-color   #2f343f
set $text-color          #f3f4f5
set $inactive-text-color #676E7D
set $urgent-bg-color     #E53935

# window colors
#                       border              background         text                 indicator
client.focused          $bg-color           $bg-color          $text-color          #00ff00
client.unfocused        $inactive-bg-color $inactive-bg-color $inactive-text-color #00ff00
client.focused_inactive $inactive-bg-color $inactive-bg-color $inactive-text-color #00ff00
client.urgent           $urgent-bg-color    $urgent-bg-color   $text-color          #00ff00

bar {
        status_command ~/.config/i3/bar
	font pango: UbuntuMono-regular 10
	position top
	colors {
		background $bg-color
	    	separator #757575
		#                  border             background         text
		focused_workspace  $bg-color          $bg-color          $text-color
		inactive_workspace $inactive-bg-color $inactive-bg-color $inactive-text-color
		urgent_workspace   $urgent-bg-color   $urgent-bg-color   $text-color
	}
}
